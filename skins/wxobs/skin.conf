###############################################################################
# Copyright (c) 2017 Glenn McKechnie <glenn.mckechnie@gmail.com>              #
# With credit to Tom Keffer <tkeffer@gmail.com>                               #
#                                                                             #
# WXOBS CONFIGURATION FILE                                                    #
# An additional weewx report page that uses php to extract archival data from #
# the weewx database and present it as a series of snapshots (currently       #
# half-hourly) averaged throughout the chosen day.                            #
#                                                                             #
###############################################################################
#
# Report timing:
# see http://www.weewx.com/docs/customizing.htm#customizing_gen_time
#
# Once you have this report running to your satisfaction you can add
# report_timing to control it.
# If you are not editing any variables within this file then it only needs to
# be run once a day, to generate the current timestamp for the the URL link in
# links.inc
# With that in mind the report timing can be set to once per day - @daily
#
# @daily        0 0 * * *        Every day at midnight.
#report_timing = '@daily'


[wxobs]
        # The following two values affect the time interval between the
        # historical results and whether a single result, or an averaged result
        # is returned.  The defaults are...
        # ext_interval = 1800 ( every half hour)
        # arch_interval = weewx archive_interval - as set in weewx.conf is used.
        # They can be changed by adjusting and uncommenting the following, as
        # appropriate
        #ext_interval = 3600  # 1 hour spacing if uncommented
        #arch_interval = 3600 # uncommenting this will force averaging of each
                              # (hourly) interval to be returned for each time
                              # interval displayed
                              # If left as is, commented out, single readings
                              # i(no averaging) will be returned at every hour


        # appTemp display:
        #
        # Currently appTemp is not enabled by default in weewx. weewx generates
        # appTemp but the database field is missing.
        # You can either add that field to the database or select another field
        # to display instead of appTemp. The choice is yours.
        # windchill seems an appropriate replacement, heatindex is another?
        # Whatever you choose to display, select it from the degrees_group
        # ie the unit display is degF or degC
        # windchill is the default for this skin, replace that field by
        # uncommenting the following
        #app_Temp = appTemp

        # To convert m/s database values (METRICWX) to km/h
        #wind_adjust = 0.277778 # m/s to kmh

        # Australian rain records:
        #
        # The australian rain day starts at 9 a.m. setting this as true will
        # adjust the rain column values between these 9 .a.m. each day.
        # default is false - start at midnight 00:00:00 through to the next day.
        # uncomment the following to adjust the start time to 9 a.m.
        #australian_rain = True

        # delta-T calculations and data:
        #
        # What is delta-T? ... http://www.bom.gov.au/lam/deltat.shtml
        # It's assumed that most users won't want the delta-T calculations and
        # associated display so it's turned off by default.
        # This is a switch (boolean) to turn it on
        # If you decide you do want it generated then turn it on by uncommenting
        # the following entry
        #calculate_deltaT = True

        # If you turn delta-T on, then the following section applies too...
        #
        #delta-T configuration:
        #
        # An information message will appear on the report page (index.php) if
        # the database is in US units (imperial) or the units that are returned
        # don't match the native units required for the delta-T calcs
        # An information div is included in the report page when this occurs.
        #
        # The delta-T calcs will be adjusted for the most of the incoming units
        # but there may be further work required if the script doesn't detect
        # your incoming unit types. We need to make sure that the Units are
        # configured correctly in the [Units] [[Groups]] section below this.
        # This is a switch (boolean) to turn it off
        # Uncomment the following line when you no longer need the message
        # to show.
        #show_warning = False

        # debug output:
        #
        # If you like information overload then enable debugging below.
        # If however, you have a problem with the skins output, it's a good
        # starting  point
        # If you want the delta-T calcs to display, use wxobs_debug = 2
        # there'll be a lot of output!
        #wxobs_debug = 1

[Units]
        # This section is for managing the selection and formatting of units.

        [[Groups]]

        # These options need to match your actual database units.
        # That's not the target_units as described in weewx.conf but the actual
        # units as generated by your weather station.
        # Does it generate metric or imperial values and what are they?
        # Weewx will always return imperial units if these are no defined.
        # It doesn't matter if US, METRIC, METRICWX are defined in weewx.conf
        # for the database.
        # For this skin, we need to adjust them here.
        # Define them below...

#        group_direction    = degree_compass
#        group_percent      = percent
#        group_pressure     = hPa        # Options 'inHg','mmHg','mbar' or 'hPa'
#        group_rain         = mm         # Options are 'inch', 'cm' or 'mm'
#        group_temperature  = degree_C   # Options are 'degree_F' or 'degree_C'
#        group_speed        = km_per_hour

###############################################################################

[CheetahGenerator]
    # The CheetahGenerator creates files from templates.  This section
    # specifies which files will be generated from which template.

    # Possible encodings are 'html_entities', 'utf8', or 'strict_ascii'
    encoding = html_entities

    search_list_extensions = user.wxobs.wxobs

    [[ToDate]]
        # Reports that show statistics "to date", such as day-to-date,
        # week-to-date, month-to-date, etc.
        [[[index]]]
            template = index.php.tmpl

###############################################################################

[CopyGenerator]
    # The CopyGenerator copies files from one location to another.

    # List of files to be copied only the first time the generator runs
    copy_once = datepicker.css, wxobs.css, datepicker.js

    # List of files to be copied each time the generator runs
    # copy_always = wxobs.php.tmpl

###############################################################################

[Generators]
    generator_list = weewx.cheetahgenerator.CheetahGenerator, weewx.reportengine.CopyGenerator
###############################################################################
# Copyright (c) 2010 Tom Keffer <tkeffer@gmail.com>                           #
# STANDARD SKIN CONFIGURATION FILE                                            #
###############################################################################

# reminders of date conversion from shell prompt.
#
# date -d '11-june-2017 21:00:00' +'%s'
# 1497178800
#
# date  +%s
# 1407198071
#
# date -d @1407198071
# Tue  5 Aug 10:21:11 AEST 2014

